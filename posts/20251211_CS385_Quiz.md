---
title: "CS385: Advanced Concepts Diagnostic"
title_en: "CS385: Advanced Concepts Diagnostic"
title_zh: "CS385：高级概念诊断测验"
date: 2025-12-11
author: "Dong Li"
categories: 
  - "CS385"
  - "Assessment"
tags: 
  - "React Hooks"
  - "Async JS"
  - "CSS Layout"
summary_en: "A 10-question diagnostic tool covering React Hooks state management, Asynchronous JavaScript execution order, and CSS layout mechanics. Designed to identify knowledge gaps prior to the final exam."
summary_zh: "包含 10 个问题的诊断工具，涵盖 React Hooks 状态管理、异步 JavaScript 执行顺序和 CSS 布局机制。旨在考前识别知识盲点。"
---

[EN]
# ⚡️ Diagnostic Assessment

**Objective:** Identify weak points in the syllabus before the final examination.
**Method:** Read the code snippet, formulate a hypothesis, and verify against the provided rationale.

---

### Q1: React State Immutability

```javascript
const [user, setUser] = useState({ name: 'Alice', age: 25 });
// Later in a handler:
setUser({ age: 26 });
```
**Hypothesis:** What is the value of `user` after the next render?

A) `{ name: 'Alice', age: 26 }`
B) `{ age: 26 }`
C) `{ name: 'Alice', age: 25 }`

<details> <summary style="cursor: pointer; color: #facc15; font-weight: bold;">▼ Verification</summary>

✅ **Correct Answer: B**

`{ age: 26 }`

**Rationale:** The `useState` hook setter **replaces** the state value entirely. Unlike the legacy `this.setState` in class components, it does not perform an automatic merge.
**Correction:** `setUser({ ...user, age: 26 })`.

</details>

### Q2: JavaScript Execution Context (Map)
```javascript
const nums = [1, 2, 3];
const result = nums.map(n => {
  n * 2;
});
```
**Hypothesis:** What is the value of `result`?

A) `[2, 4, 6]`
B) `[1, 2, 3]`
C) `[undefined, undefined, undefined]`

<details> <summary style="cursor: pointer; color: #facc15; font-weight: bold;">▼ Verification</summary>

✅ **Correct Answer: C**

`[undefined, undefined, undefined]`

**Rationale:** The arrow function uses a block body `{ ... }` but lacks an explicit `return` statement. Therefore, it implicitly returns `undefined` for each iteration.
**Correction:** `nums.map(n => n * 2)` (implicit return) or `nums.map(n => { return n * 2; })`.

</details>

[END]

[ZH]
# ⚡️ 诊断评估

**目标：** 在期末考试前识别教学大纲中的薄弱环节。
**方法：** 阅读代码片段，形成假设，并对照提供的理由进行验证。

---

### Q1: React 状态不可变性

```javascript
const [user, setUser] = useState({ name: 'Alice', age: 25 });
// 稍后在处理程序中：
setUser({ age: 26 });
```
**假设：** 下次渲染后 `user` 的值是多少？

A) `{ name: 'Alice', age: 26 }`
B) `{ age: 26 }`
C) `{ name: 'Alice', age: 25 }`

<details> <summary style="cursor: pointer; color: #facc15; font-weight: bold;">▼ 验证</summary>

✅ **正确答案：B**

`{ age: 26 }`

**理由：** `useState` hook 的设置器完全**替换**状态值。与类组件中旧的 `this.setState` 不同，它不执行自动合并。
**修正：** `setUser({ ...user, age: 26 })`。

</details>
[END]
